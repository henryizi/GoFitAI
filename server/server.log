--- SERVER RESTARTED ---
--- Code version: 4.0.1 - Gemini-Only-Clean: AI generation with mathematical fallback ---
[QUOTA] Loaded usage data: 17 requests
[QUOTA] Monitor initialized
[QUOTA] Daily quota: 50
[QUOTA] Reset time: 2025-10-01T16:00:00.000Z
[CACHE] Response cache initialized
[CACHE] Max cache size: 100
[CACHE] Default timeout: 30 minutes
[RATE LIMITER] Rate limiter initialized
[RATE LIMITER] Window: 60 seconds
[RATE LIMITER] Max requests: 5
[RATE LIMITER] Max AI requests per hour: 10
[VISION SERVICE] Initializing Gemini Vision Service
[GEMINI VISION] Service initialized with model: gemini-1.5-flash
[GEMINI VISION] Temperature: 0.1 (low for consistency)
[GEMINI VISION] API Key configured: ✅ Yes
[AI SERVICE] Initializing Gemini Text Service with API key rotation
[API KEY] Manager initialized
[API KEY] Keys loaded: 1
[API KEY] Key quota: 50
[API KEY] Selected best key 1 with 50 requests remaining
[GEMINI TEXT] Using primary model: gemini-2.5-flash
[GEMINI TEXT] Fallback models available: [ 'gemini-1.5-flash', 'gemini-1.5-pro', 'gemini-pro' ]
[GEMINI TEXT] Using key with best quota availability
[GEMINI TEXT] Service initialized with model: gemini-2.5-flash
[GEMINI TEXT] API Key rotation enabled: ✅ Yes
=== AI CONFIGURATION ===
Available AI Providers: [ 'gemini', 'fallback' ]
GEMINI_API_KEY exists: true
GEMINI_MODEL: gemini-2.5-flash
Using model URL: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent
Gemini provider config: {
  name: 'gemini',
  apiKey: 'AIzaSyA4MvRwO2jzzyXC9s14GltLzpGH-A7RpRg',
  apiUrl: 'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent',
  model: 'gemini-2.5-flash',
  enabled: true
}
Default AI_PROVIDER: gemini
Total providers available: 2
- gemini: ENABLED (gemini-2.5-flash)
- fallback: ENABLED (rule-based)
========================
GoFitAI Server v2.0 running on port 4000
Local IP: 192.168.0.176
Server URL: http://192.168.0.176:4000
Test API with: curl http://192.168.0.176:4000/api/test
[EXERCISES API] Fetching exercises from database
[EXERCISES API] Successfully fetched 801 exercises from database
{"level":30,"time":1759297853119,"pid":9420,"hostname":"MacBook-Air-126.local","req":{"id":1,"method":"GET","url":"/api/exercises","query":{},"params":{},"headers":{"host":"localhost:4000","user-agent":"curl/8.7.1","accept":"*/*"},"remoteAddress":"127.0.0.1","remotePort":58611},"res":{"statusCode":200,"headers":{"cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","origin-agent-cluster":"?1","referrer-policy":"no-referrer","strict-transport-security":"max-age=15552000; includeSubDomains","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","access-control-expose-headers":"Content-Length,Content-Type","content-type":"application/json; charset=utf-8","content-length":"193438","etag":"W/\"2f39e-zem4ocu8Jko+P5kkRQorCslb3HE\""}},"responseTime":1623,"msg":"request completed"}
[EXERCISES API] Fetching exercises from database
[EXERCISES API] Successfully fetched 801 exercises from database
{"level":30,"time":1759297907894,"pid":9420,"hostname":"MacBook-Air-126.local","req":{"id":2,"method":"GET","url":"/api/exercises","query":{},"params":{},"headers":{"host":"localhost:4000","user-agent":"curl/8.7.1","accept":"application/json"},"remoteAddress":"127.0.0.1","remotePort":58624},"res":{"statusCode":200,"headers":{"cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","origin-agent-cluster":"?1","referrer-policy":"no-referrer","strict-transport-security":"max-age=15552000; includeSubDomains","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","access-control-expose-headers":"Content-Length,Content-Type","content-type":"application/json; charset=utf-8","content-length":"193438","etag":"W/\"2f39e-zem4ocu8Jko+P5kkRQorCslb3HE\""}},"responseTime":1440,"msg":"request completed"}
{"level":30,"time":1759298448945,"pid":9420,"hostname":"MacBook-Air-126.local","req":{"id":3,"method":"GET","url":"/api/health","query":{},"params":{},"headers":{"host":"localhost:4000","content-type":"application/json","if-none-match":"W/\"b5-0PYY03+ZAupsg3bzKua0BpTi/h4\"","accept":"*/*","user-agent":"Expo/54.0.6 CFNetwork/3826.600.41 Darwin/24.6.0","accept-language":"en-US,en;q=0.9","accept-encoding":"gzip, deflate","connection":"keep-alive"},"remoteAddress":"127.0.0.1","remotePort":59040},"res":{"statusCode":200,"headers":{"cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","origin-agent-cluster":"?1","referrer-policy":"no-referrer","strict-transport-security":"max-age=15552000; includeSubDomains","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","access-control-expose-headers":"Content-Length,Content-Type","content-type":"application/json; charset=utf-8","content-length":"181","etag":"W/\"b5-wpHxW5C9hIwQWhR3OVV8Lq10Q5w\""}},"responseTime":1,"msg":"request completed"}
{"level":30,"time":1759298449022,"pid":9420,"hostname":"MacBook-Air-126.local","req":{"id":4,"method":"GET","url":"/api/health","query":{},"params":{},"headers":{"host":"localhost:4000","content-type":"application/json","if-none-match":"W/\"b5-wpHxW5C9hIwQWhR3OVV8Lq10Q5w\"","accept":"*/*","user-agent":"Expo/54.0.6 CFNetwork/3826.600.41 Darwin/24.6.0","accept-language":"en-US,en;q=0.9","accept-encoding":"gzip, deflate","connection":"keep-alive"},"remoteAddress":"127.0.0.1","remotePort":59040},"res":{"statusCode":200,"headers":{"cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","origin-agent-cluster":"?1","referrer-policy":"no-referrer","strict-transport-security":"max-age=15552000; includeSubDomains","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","access-control-expose-headers":"Content-Length,Content-Type","content-type":"application/json; charset=utf-8","content-length":"181","etag":"W/\"b5-dc9QNktEr0JaoiWofMwT11WPk80\""}},"responseTime":0,"msg":"request completed"}
{"level":30,"time":1759298732136,"pid":9420,"hostname":"MacBook-Air-126.local","req":{"id":5,"method":"GET","url":"/api/health","query":{},"params":{},"headers":{"host":"localhost:4000","content-type":"application/json","if-none-match":"W/\"b5-dc9QNktEr0JaoiWofMwT11WPk80\"","accept":"*/*","user-agent":"Expo/54.0.6 CFNetwork/3826.600.41 Darwin/24.6.0","accept-language":"en-US,en;q=0.9","accept-encoding":"gzip, deflate","connection":"keep-alive"},"remoteAddress":"127.0.0.1","remotePort":59271},"res":{"statusCode":200,"headers":{"cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","origin-agent-cluster":"?1","referrer-policy":"no-referrer","strict-transport-security":"max-age=15552000; includeSubDomains","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","access-control-expose-headers":"Content-Length,Content-Type","content-type":"application/json; charset=utf-8","content-length":"181","etag":"W/\"b5-B/EB7fpHrO9haaO9GoRH3snnYFg\""}},"responseTime":1,"msg":"request completed"}
{"level":30,"time":1759298732217,"pid":9420,"hostname":"MacBook-Air-126.local","req":{"id":6,"method":"GET","url":"/api/health","query":{},"params":{},"headers":{"host":"localhost:4000","content-type":"application/json","if-none-match":"W/\"b5-B/EB7fpHrO9haaO9GoRH3snnYFg\"","accept":"*/*","user-agent":"Expo/54.0.6 CFNetwork/3826.600.41 Darwin/24.6.0","accept-language":"en-US,en;q=0.9","accept-encoding":"gzip, deflate","connection":"keep-alive"},"remoteAddress":"127.0.0.1","remotePort":59271},"res":{"statusCode":200,"headers":{"cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","origin-agent-cluster":"?1","referrer-policy":"no-referrer","strict-transport-security":"max-age=15552000; includeSubDomains","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","access-control-expose-headers":"Content-Length,Content-Type","content-type":"application/json; charset=utf-8","content-length":"181","etag":"W/\"b5-IJC4QR0+KrQt4/FTrDEL1SSLdK4\""}},"responseTime":1,"msg":"request completed"}
{"level":30,"time":1759298764824,"pid":9420,"hostname":"MacBook-Air-126.local","req":{"id":7,"method":"GET","url":"/api/health","query":{},"params":{},"headers":{"host":"192.168.0.176:4000","if-none-match":"W/\"b5-u1NuXJxgWIiKUQbP+4Bpytf//YA\"","accept":"*/*","user-agent":"Expo/54.0.6 CFNetwork/3826.600.41 Darwin/24.6.0","accept-language":"en-US,en;q=0.9","accept-encoding":"gzip, deflate","connection":"keep-alive"},"remoteAddress":"192.168.0.176","remotePort":59296},"res":{"statusCode":200,"headers":{"cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","origin-agent-cluster":"?1","referrer-policy":"no-referrer","strict-transport-security":"max-age=15552000; includeSubDomains","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","access-control-expose-headers":"Content-Length,Content-Type","content-type":"application/json; charset=utf-8","content-length":"181","etag":"W/\"b5-gnWVMg/SlD63Btp4dAyidRN07+A\""}},"responseTime":1,"msg":"request completed"}
[WORKOUT] Error generating workout plan: TypeError: Cannot read properties of undefined (reading 'workoutTypes')
    at /Users/ngkwanho/Desktop/GoFitAI/server/index.js:7416:33
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
    at /Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
{"level":30,"time":1759298764845,"pid":9420,"hostname":"MacBook-Air-126.local","req":{"id":8,"method":"POST","url":"/api/generate-workout-plan","query":{},"params":{},"headers":{"host":"192.168.0.176:4000","content-type":"application/json","connection":"keep-alive","accept":"application/json","user-agent":"GoFitAI-Mobile/1.0","content-length":"149","accept-language":"en-US,en;q=0.9","accept-encoding":"gzip, deflate"},"remoteAddress":"192.168.0.176","remotePort":59296},"res":{"statusCode":500,"headers":{"cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","origin-agent-cluster":"?1","referrer-policy":"no-referrer","strict-transport-security":"max-age=15552000; includeSubDomains","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","access-control-expose-headers":"Content-Length,Content-Type","content-type":"application/json; charset=utf-8","content-length":"88","etag":"W/\"58-1XnoWbxsgh4i2X4AefleoQy8aLk\""}},"err":{"type":"Error","message":"failed with status code 500","stack":"Error: failed with status code 500\n    at onResFinished (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/pino-http/logger.js:114:39)\n    at ServerResponse.onResponseComplete (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/pino-http/logger.js:177:14)\n    at ServerResponse.emit (node:events:530:35)\n    at onFinish (node:_http_outgoing:1081:10)\n    at callback (node:internal/streams/writable:766:21)\n    at afterWrite (node:internal/streams/writable:710:5)\n    at afterWriteTick (node:internal/streams/writable:696:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)"},"responseTime":12,"msg":"request errored"}
[WORKOUT] Error generating workout plan: TypeError: Cannot read properties of undefined (reading 'workoutTypes')
    at /Users/ngkwanho/Desktop/GoFitAI/server/index.js:7416:33
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
    at /Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
{"level":30,"time":1759298764881,"pid":9420,"hostname":"MacBook-Air-126.local","req":{"id":9,"method":"POST","url":"/api/generate-workout-plan","query":{},"params":{},"headers":{"host":"localhost:4000","content-type":"application/json","connection":"keep-alive","accept":"application/json","user-agent":"GoFitAI-Mobile/1.0","content-length":"149","accept-language":"en-US,en;q=0.9","accept-encoding":"gzip, deflate"},"remoteAddress":"127.0.0.1","remotePort":59300},"res":{"statusCode":500,"headers":{"cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","origin-agent-cluster":"?1","referrer-policy":"no-referrer","strict-transport-security":"max-age=15552000; includeSubDomains","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","access-control-expose-headers":"Content-Length,Content-Type","content-type":"application/json; charset=utf-8","content-length":"88","etag":"W/\"58-1XnoWbxsgh4i2X4AefleoQy8aLk\""}},"err":{"type":"Error","message":"failed with status code 500","stack":"Error: failed with status code 500\n    at onResFinished (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/pino-http/logger.js:114:39)\n    at ServerResponse.onResponseComplete (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/pino-http/logger.js:177:14)\n    at ServerResponse.emit (node:events:530:35)\n    at onFinish (node:_http_outgoing:1081:10)\n    at callback (node:internal/streams/writable:766:21)\n    at afterWrite (node:internal/streams/writable:710:5)\n    at afterWriteTick (node:internal/streams/writable:696:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)"},"responseTime":2,"msg":"request errored"}
{"level":30,"time":1759298944960,"pid":9420,"hostname":"MacBook-Air-126.local","req":{"id":10,"method":"GET","url":"/api/health","query":{},"params":{},"headers":{"host":"localhost:4000","content-type":"application/json","if-none-match":"W/\"b5-IJC4QR0+KrQt4/FTrDEL1SSLdK4\"","accept":"*/*","user-agent":"Expo/54.0.6 CFNetwork/3826.600.41 Darwin/24.6.0","accept-language":"en-US,en;q=0.9","accept-encoding":"gzip, deflate","connection":"keep-alive"},"remoteAddress":"127.0.0.1","remotePort":59459},"res":{"statusCode":200,"headers":{"cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","origin-agent-cluster":"?1","referrer-policy":"no-referrer","strict-transport-security":"max-age=15552000; includeSubDomains","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","access-control-expose-headers":"Content-Length,Content-Type","content-type":"application/json; charset=utf-8","content-length":"181","etag":"W/\"b5-rMQcg6KrL5udooVE5zflr4+fWmg\""}},"responseTime":1,"msg":"request completed"}
{"level":30,"time":1759298945039,"pid":9420,"hostname":"MacBook-Air-126.local","req":{"id":11,"method":"GET","url":"/api/health","query":{},"params":{},"headers":{"host":"localhost:4000","content-type":"application/json","if-none-match":"W/\"b5-rMQcg6KrL5udooVE5zflr4+fWmg\"","accept":"*/*","user-agent":"Expo/54.0.6 CFNetwork/3826.600.41 Darwin/24.6.0","accept-language":"en-US,en;q=0.9","accept-encoding":"gzip, deflate","connection":"keep-alive"},"remoteAddress":"127.0.0.1","remotePort":59459},"res":{"statusCode":200,"headers":{"cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","origin-agent-cluster":"?1","referrer-policy":"no-referrer","strict-transport-security":"max-age=15552000; includeSubDomains","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","access-control-expose-headers":"Content-Length,Content-Type","content-type":"application/json; charset=utf-8","content-length":"181","etag":"W/\"b5-wpRK/f2kEq63kZ21HqWoZtauLOI\""}},"responseTime":1,"msg":"request completed"}
[EXPRESS] 404 - Route not found: GET /health
{"level":30,"time":1759299095319,"pid":9420,"hostname":"MacBook-Air-126.local","req":{"id":12,"method":"GET","url":"/health","query":{},"params":{},"headers":{"host":"localhost:4000","user-agent":"curl/8.7.1","accept":"*/*"},"remoteAddress":"127.0.0.1","remotePort":59579},"res":{"statusCode":404,"headers":{"cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","origin-agent-cluster":"?1","referrer-policy":"no-referrer","strict-transport-security":"max-age=15552000; includeSubDomains","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","access-control-expose-headers":"Content-Length,Content-Type","content-type":"application/json; charset=utf-8","content-length":"78","etag":"W/\"4e-vi3xBwmXV7GeMYsszJb9q3wAZgs\""}},"responseTime":0,"msg":"request completed"}
[2025-10-01T06:11:55.933Z] Test endpoint called
{"level":30,"time":1759299115934,"pid":9420,"hostname":"MacBook-Air-126.local","req":{"id":13,"method":"GET","url":"/api/test","query":{},"params":{},"headers":{"host":"localhost:4000","user-agent":"curl/8.7.1","accept":"*/*"},"remoteAddress":"127.0.0.1","remotePort":59602},"res":{"statusCode":200,"headers":{"cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","origin-agent-cluster":"?1","referrer-policy":"no-referrer","strict-transport-security":"max-age=15552000; includeSubDomains","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","access-control-expose-headers":"Content-Length,Content-Type","content-type":"application/json; charset=utf-8","content-length":"283","etag":"W/\"11b-uJg3BXXyhY7tr+uQ5kfhwt5efk4\""}},"responseTime":1,"msg":"request completed"}
{"level":30,"time":1759300456513,"pid":9420,"hostname":"MacBook-Air-126.local","req":{"id":14,"method":"GET","url":"/api/health","query":{},"params":{},"headers":{"host":"192.168.0.176:4000","if-none-match":"W/\"b5-gnWVMg/SlD63Btp4dAyidRN07+A\"","accept":"*/*","user-agent":"Expo/54.0.6 CFNetwork/3826.600.41 Darwin/24.6.0","accept-language":"en-US,en;q=0.9","accept-encoding":"gzip, deflate","connection":"keep-alive"},"remoteAddress":"192.168.0.176","remotePort":60531},"res":{"statusCode":200,"headers":{"cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","origin-agent-cluster":"?1","referrer-policy":"no-referrer","strict-transport-security":"max-age=15552000; includeSubDomains","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","access-control-expose-headers":"Content-Length,Content-Type","content-type":"application/json; charset=utf-8","content-length":"181","etag":"W/\"b5-Co+ZtjVSUtBrLN5RE04kjuWBdfw\""}},"responseTime":2,"msg":"request completed"}
[WORKOUT] Error generating workout plan: TypeError: Cannot read properties of undefined (reading 'workoutTypes')
    at /Users/ngkwanho/Desktop/GoFitAI/server/index.js:7416:33
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
    at /Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
{"level":30,"time":1759300456532,"pid":9420,"hostname":"MacBook-Air-126.local","req":{"id":15,"method":"POST","url":"/api/generate-workout-plan","query":{},"params":{},"headers":{"host":"192.168.0.176:4000","content-type":"application/json","connection":"keep-alive","accept":"application/json","user-agent":"GoFitAI-Mobile/1.0","content-length":"149","accept-language":"en-US,en;q=0.9","accept-encoding":"gzip, deflate"},"remoteAddress":"192.168.0.176","remotePort":60531},"res":{"statusCode":500,"headers":{"cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","origin-agent-cluster":"?1","referrer-policy":"no-referrer","strict-transport-security":"max-age=15552000; includeSubDomains","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","access-control-expose-headers":"Content-Length,Content-Type","content-type":"application/json; charset=utf-8","content-length":"88","etag":"W/\"58-1XnoWbxsgh4i2X4AefleoQy8aLk\""}},"err":{"type":"Error","message":"failed with status code 500","stack":"Error: failed with status code 500\n    at onResFinished (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/pino-http/logger.js:114:39)\n    at ServerResponse.onResponseComplete (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/pino-http/logger.js:177:14)\n    at ServerResponse.emit (node:events:530:35)\n    at onFinish (node:_http_outgoing:1081:10)\n    at callback (node:internal/streams/writable:766:21)\n    at afterWrite (node:internal/streams/writable:710:5)\n    at afterWriteTick (node:internal/streams/writable:696:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)"},"responseTime":3,"msg":"request errored"}
[WORKOUT] Error generating workout plan: TypeError: Cannot read properties of undefined (reading 'workoutTypes')
    at /Users/ngkwanho/Desktop/GoFitAI/server/index.js:7416:33
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
    at /Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
{"level":30,"time":1759300456556,"pid":9420,"hostname":"MacBook-Air-126.local","req":{"id":16,"method":"POST","url":"/api/generate-workout-plan","query":{},"params":{},"headers":{"host":"localhost:4000","content-type":"application/json","connection":"keep-alive","accept":"application/json","user-agent":"GoFitAI-Mobile/1.0","content-length":"149","accept-language":"en-US,en;q=0.9","accept-encoding":"gzip, deflate"},"remoteAddress":"127.0.0.1","remotePort":60535},"res":{"statusCode":500,"headers":{"cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","origin-agent-cluster":"?1","referrer-policy":"no-referrer","strict-transport-security":"max-age=15552000; includeSubDomains","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","access-control-expose-headers":"Content-Length,Content-Type","content-type":"application/json; charset=utf-8","content-length":"88","etag":"W/\"58-1XnoWbxsgh4i2X4AefleoQy8aLk\""}},"err":{"type":"Error","message":"failed with status code 500","stack":"Error: failed with status code 500\n    at onResFinished (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/pino-http/logger.js:114:39)\n    at ServerResponse.onResponseComplete (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/pino-http/logger.js:177:14)\n    at ServerResponse.emit (node:events:530:35)\n    at onFinish (node:_http_outgoing:1081:10)\n    at callback (node:internal/streams/writable:766:21)\n    at afterWrite (node:internal/streams/writable:710:5)\n    at afterWriteTick (node:internal/streams/writable:696:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)"},"responseTime":1,"msg":"request errored"}
[WORKOUT] Error generating workout plan: TypeError: Cannot read properties of undefined (reading 'workoutTypes')
    at /Users/ngkwanho/Desktop/GoFitAI/server/index.js:7416:33
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
    at /Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
{"level":30,"time":1759301005529,"pid":9420,"hostname":"MacBook-Air-126.local","req":{"id":17,"method":"POST","url":"/api/generate-workout-plan","query":{},"params":{},"headers":{"host":"localhost:4000","user-agent":"curl/8.7.1","accept":"*/*","content-type":"application/json","content-length":"327"},"remoteAddress":"127.0.0.1","remotePort":60941},"res":{"statusCode":500,"headers":{"cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","origin-agent-cluster":"?1","referrer-policy":"no-referrer","strict-transport-security":"max-age=15552000; includeSubDomains","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","access-control-expose-headers":"Content-Length,Content-Type","content-type":"application/json; charset=utf-8","content-length":"88","etag":"W/\"58-1XnoWbxsgh4i2X4AefleoQy8aLk\""}},"err":{"type":"Error","message":"failed with status code 500","stack":"Error: failed with status code 500\n    at onResFinished (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/pino-http/logger.js:114:39)\n    at ServerResponse.onResponseComplete (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/pino-http/logger.js:177:14)\n    at ServerResponse.emit (node:events:530:35)\n    at onFinish (node:_http_outgoing:1081:10)\n    at callback (node:internal/streams/writable:766:21)\n    at afterWrite (node:internal/streams/writable:710:5)\n    at afterWriteTick (node:internal/streams/writable:696:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)"},"responseTime":1,"msg":"request errored"}
[WORKOUT] Error generating workout plan: TypeError: Cannot read properties of undefined (reading 'workoutTypes')
    at /Users/ngkwanho/Desktop/GoFitAI/server/index.js:7416:33
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
    at /Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
{"level":30,"time":1759301057681,"pid":9420,"hostname":"MacBook-Air-126.local","req":{"id":18,"method":"POST","url":"/api/generate-workout-plan","query":{},"params":{},"headers":{"host":"localhost:4000","user-agent":"curl/8.7.1","accept":"*/*","content-type":"application/json","content-length":"327"},"remoteAddress":"127.0.0.1","remotePort":60973},"res":{"statusCode":500,"headers":{"cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","origin-agent-cluster":"?1","referrer-policy":"no-referrer","strict-transport-security":"max-age=15552000; includeSubDomains","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","access-control-expose-headers":"Content-Length,Content-Type","content-type":"application/json; charset=utf-8","content-length":"88","etag":"W/\"58-1XnoWbxsgh4i2X4AefleoQy8aLk\""}},"err":{"type":"Error","message":"failed with status code 500","stack":"Error: failed with status code 500\n    at onResFinished (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/pino-http/logger.js:114:39)\n    at ServerResponse.onResponseComplete (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/pino-http/logger.js:177:14)\n    at ServerResponse.emit (node:events:530:35)\n    at onFinish (node:_http_outgoing:1081:10)\n    at callback (node:internal/streams/writable:766:21)\n    at afterWrite (node:internal/streams/writable:710:5)\n    at afterWriteTick (node:internal/streams/writable:696:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)"},"responseTime":0,"msg":"request errored"}
[WORKOUT] Error generating workout plan: TypeError: Cannot read properties of undefined (reading 'workoutTypes')
    at /Users/ngkwanho/Desktop/GoFitAI/server/index.js:7416:33
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
    at /Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
{"level":30,"time":1759301070323,"pid":9420,"hostname":"MacBook-Air-126.local","req":{"id":19,"method":"POST","url":"/api/generate-workout-plan","query":{},"params":{},"headers":{"host":"localhost:4000","user-agent":"curl/8.7.1","accept":"*/*","content-type":"application/json","content-length":"327"},"remoteAddress":"127.0.0.1","remotePort":60985},"res":{"statusCode":500,"headers":{"cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","origin-agent-cluster":"?1","referrer-policy":"no-referrer","strict-transport-security":"max-age=15552000; includeSubDomains","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","access-control-expose-headers":"Content-Length,Content-Type","content-type":"application/json; charset=utf-8","content-length":"88","etag":"W/\"58-1XnoWbxsgh4i2X4AefleoQy8aLk\""}},"err":{"type":"Error","message":"failed with status code 500","stack":"Error: failed with status code 500\n    at onResFinished (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/pino-http/logger.js:114:39)\n    at ServerResponse.onResponseComplete (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/pino-http/logger.js:177:14)\n    at ServerResponse.emit (node:events:530:35)\n    at onFinish (node:_http_outgoing:1081:10)\n    at callback (node:internal/streams/writable:766:21)\n    at afterWrite (node:internal/streams/writable:710:5)\n    at afterWriteTick (node:internal/streams/writable:696:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)"},"responseTime":1,"msg":"request errored"}
[WORKOUT] Error generating workout plan: TypeError: Cannot read properties of undefined (reading 'workoutTypes')
    at /Users/ngkwanho/Desktop/GoFitAI/server/index.js:7416:33
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
    at /Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
{"level":30,"time":1759301214184,"pid":9420,"hostname":"MacBook-Air-126.local","req":{"id":20,"method":"POST","url":"/api/generate-workout-plan","query":{},"params":{},"headers":{"host":"localhost:4000","user-agent":"curl/8.7.1","accept":"*/*","content-type":"application/json","content-length":"327"},"remoteAddress":"127.0.0.1","remotePort":61096},"res":{"statusCode":500,"headers":{"cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","origin-agent-cluster":"?1","referrer-policy":"no-referrer","strict-transport-security":"max-age=15552000; includeSubDomains","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","access-control-expose-headers":"Content-Length,Content-Type","content-type":"application/json; charset=utf-8","content-length":"88","etag":"W/\"58-1XnoWbxsgh4i2X4AefleoQy8aLk\""}},"err":{"type":"Error","message":"failed with status code 500","stack":"Error: failed with status code 500\n    at onResFinished (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/pino-http/logger.js:114:39)\n    at ServerResponse.onResponseComplete (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/pino-http/logger.js:177:14)\n    at ServerResponse.emit (node:events:530:35)\n    at onFinish (node:_http_outgoing:1081:10)\n    at callback (node:internal/streams/writable:766:21)\n    at afterWrite (node:internal/streams/writable:710:5)\n    at afterWriteTick (node:internal/streams/writable:696:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)"},"responseTime":0,"msg":"request errored"}
[WORKOUT] Error generating workout plan: TypeError: Cannot read properties of undefined (reading 'workoutTypes')
    at /Users/ngkwanho/Desktop/GoFitAI/server/index.js:7416:33
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
    at /Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
{"level":30,"time":1759301244054,"pid":9420,"hostname":"MacBook-Air-126.local","req":{"id":21,"method":"POST","url":"/api/generate-workout-plan","query":{},"params":{},"headers":{"host":"localhost:4000","user-agent":"curl/8.7.1","accept":"*/*","content-type":"application/json","content-length":"327"},"remoteAddress":"127.0.0.1","remotePort":61122},"res":{"statusCode":500,"headers":{"cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","origin-agent-cluster":"?1","referrer-policy":"no-referrer","strict-transport-security":"max-age=15552000; includeSubDomains","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","access-control-expose-headers":"Content-Length,Content-Type","content-type":"application/json; charset=utf-8","content-length":"88","etag":"W/\"58-1XnoWbxsgh4i2X4AefleoQy8aLk\""}},"err":{"type":"Error","message":"failed with status code 500","stack":"Error: failed with status code 500\n    at onResFinished (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/pino-http/logger.js:114:39)\n    at ServerResponse.onResponseComplete (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/pino-http/logger.js:177:14)\n    at ServerResponse.emit (node:events:530:35)\n    at onFinish (node:_http_outgoing:1081:10)\n    at callback (node:internal/streams/writable:766:21)\n    at afterWrite (node:internal/streams/writable:710:5)\n    at afterWriteTick (node:internal/streams/writable:696:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)"},"responseTime":2,"msg":"request errored"}
[WORKOUT] Error generating workout plan: TypeError: Cannot read properties of undefined (reading 'workoutTypes')
    at /Users/ngkwanho/Desktop/GoFitAI/server/index.js:7416:33
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
    at /Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
{"level":30,"time":1759301340288,"pid":9420,"hostname":"MacBook-Air-126.local","req":{"id":22,"method":"POST","url":"/api/generate-workout-plan","query":{},"params":{},"headers":{"host":"localhost:4000","user-agent":"curl/8.7.1","accept":"*/*","content-type":"application/json","content-length":"327"},"remoteAddress":"127.0.0.1","remotePort":61179},"res":{"statusCode":500,"headers":{"cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","origin-agent-cluster":"?1","referrer-policy":"no-referrer","strict-transport-security":"max-age=15552000; includeSubDomains","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","access-control-expose-headers":"Content-Length,Content-Type","content-type":"application/json; charset=utf-8","content-length":"88","etag":"W/\"58-1XnoWbxsgh4i2X4AefleoQy8aLk\""}},"err":{"type":"Error","message":"failed with status code 500","stack":"Error: failed with status code 500\n    at onResFinished (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/pino-http/logger.js:114:39)\n    at ServerResponse.onResponseComplete (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/pino-http/logger.js:177:14)\n    at ServerResponse.emit (node:events:530:35)\n    at onFinish (node:_http_outgoing:1081:10)\n    at callback (node:internal/streams/writable:766:21)\n    at afterWrite (node:internal/streams/writable:710:5)\n    at afterWriteTick (node:internal/streams/writable:696:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)"},"responseTime":1,"msg":"request errored"}
[WORKOUT] Error generating workout plan: TypeError: Cannot read properties of undefined (reading 'workoutTypes')
    at /Users/ngkwanho/Desktop/GoFitAI/server/index.js:7416:33
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
    at /Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
{"level":30,"time":1759301368799,"pid":9420,"hostname":"MacBook-Air-126.local","req":{"id":23,"method":"POST","url":"/api/generate-workout-plan","query":{},"params":{},"headers":{"host":"localhost:4000","user-agent":"curl/8.7.1","accept":"*/*","content-type":"application/json","content-length":"327"},"remoteAddress":"127.0.0.1","remotePort":61200},"res":{"statusCode":500,"headers":{"cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","origin-agent-cluster":"?1","referrer-policy":"no-referrer","strict-transport-security":"max-age=15552000; includeSubDomains","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","access-control-expose-headers":"Content-Length,Content-Type","content-type":"application/json; charset=utf-8","content-length":"88","etag":"W/\"58-1XnoWbxsgh4i2X4AefleoQy8aLk\""}},"err":{"type":"Error","message":"failed with status code 500","stack":"Error: failed with status code 500\n    at onResFinished (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/pino-http/logger.js:114:39)\n    at ServerResponse.onResponseComplete (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/pino-http/logger.js:177:14)\n    at ServerResponse.emit (node:events:530:35)\n    at onFinish (node:_http_outgoing:1081:10)\n    at callback (node:internal/streams/writable:766:21)\n    at afterWrite (node:internal/streams/writable:710:5)\n    at afterWriteTick (node:internal/streams/writable:696:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)"},"responseTime":0,"msg":"request errored"}
[WORKOUT] Error generating workout plan: TypeError: Cannot read properties of undefined (reading 'workoutTypes')
    at /Users/ngkwanho/Desktop/GoFitAI/server/index.js:7416:33
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
    at /Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
{"level":30,"time":1759301461034,"pid":9420,"hostname":"MacBook-Air-126.local","req":{"id":24,"method":"POST","url":"/api/generate-workout-plan","query":{},"params":{},"headers":{"host":"localhost:4000","user-agent":"curl/8.7.1","accept":"*/*","content-type":"application/json","content-length":"327"},"remoteAddress":"127.0.0.1","remotePort":61270},"res":{"statusCode":500,"headers":{"cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","origin-agent-cluster":"?1","referrer-policy":"no-referrer","strict-transport-security":"max-age=15552000; includeSubDomains","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","access-control-expose-headers":"Content-Length,Content-Type","content-type":"application/json; charset=utf-8","content-length":"88","etag":"W/\"58-1XnoWbxsgh4i2X4AefleoQy8aLk\""}},"err":{"type":"Error","message":"failed with status code 500","stack":"Error: failed with status code 500\n    at onResFinished (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/pino-http/logger.js:114:39)\n    at ServerResponse.onResponseComplete (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/pino-http/logger.js:177:14)\n    at ServerResponse.emit (node:events:530:35)\n    at onFinish (node:_http_outgoing:1081:10)\n    at callback (node:internal/streams/writable:766:21)\n    at afterWrite (node:internal/streams/writable:710:5)\n    at afterWriteTick (node:internal/streams/writable:696:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)"},"responseTime":1,"msg":"request errored"}
[WORKOUT] Error generating workout plan: TypeError: Cannot read properties of undefined (reading 'workoutTypes')
    at /Users/ngkwanho/Desktop/GoFitAI/server/index.js:7416:33
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
    at /Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/express/lib/router/layer.js:95:5)
{"level":30,"time":1759301485472,"pid":9420,"hostname":"MacBook-Air-126.local","req":{"id":25,"method":"POST","url":"/api/generate-workout-plan","query":{},"params":{},"headers":{"host":"localhost:4000","user-agent":"curl/8.7.1","accept":"*/*","content-type":"application/json","content-length":"327"},"remoteAddress":"127.0.0.1","remotePort":61286},"res":{"statusCode":500,"headers":{"cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","origin-agent-cluster":"?1","referrer-policy":"no-referrer","strict-transport-security":"max-age=15552000; includeSubDomains","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","access-control-expose-headers":"Content-Length,Content-Type","content-type":"application/json; charset=utf-8","content-length":"88","etag":"W/\"58-1XnoWbxsgh4i2X4AefleoQy8aLk\""}},"err":{"type":"Error","message":"failed with status code 500","stack":"Error: failed with status code 500\n    at onResFinished (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/pino-http/logger.js:114:39)\n    at ServerResponse.onResponseComplete (/Users/ngkwanho/Desktop/GoFitAI/server/node_modules/pino-http/logger.js:177:14)\n    at ServerResponse.emit (node:events:530:35)\n    at onFinish (node:_http_outgoing:1081:10)\n    at callback (node:internal/streams/writable:766:21)\n    at afterWrite (node:internal/streams/writable:710:5)\n    at afterWriteTick (node:internal/streams/writable:696:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)"},"responseTime":1,"msg":"request errored"}
[SHUTDOWN] Received SIGTERM. Shutting down gracefully...
