--- SERVER RESTARTED ---
--- Code version: 2.2 ---
[ENV] Detected PORT from environment; skipping .env override for PORT
=== API CONFIGURATION ===
DeepSeek-only mode: DISABLED
Strict mode (effective): DISABLED
Available AI Providers: [ 'deepseek', 'fallback' ]
Default AI_PROVIDER: deepseek
Total providers available: 2
- deepseek: ENABLED (deepseek-v3)
- fallback: ENABLED (rule-based)
========================
[SERVER] Server error: Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937{"level":30,"time":1755964101910,"pid":64507,"hostname":"MacBook-Air-126.local","req":{"id":1,"method":"GET","url":"/api/health","query":{},"params":{},"headers":{"host":"localhost:4000","user-agent":"curl/8.7.1","accept":"*/*"},"remoteAddress":"127.0.0.1","remotePort":56619},"res":{"statusCode":200,"headers":{"cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","origin-agent-cluster":"?1","referrer-policy":"no-referrer","strict-transport-security":"max-age=15552000; includeSubDomains","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","access-control-expose-headers":"Content-Length,Content-Type","content-type":"application/json; charset=utf-8","content-length":"103","etag":"W/\"67-O/YuHoXH5axP0Y18FlX59BBOGg4\""}},"responseTime":3,"msg":"request completed"}
[EXPRESS] 404 - Route not found: POST /api/health-check
{"level":30,"time":1755964252258,"pid":64507,"hostname":"MacBook-Air-126.local","req":{"id":2,"method":"POST","url":"/api/health-check","query":{},"params":{},"headers":{"host":"localhost:4000","user-agent":"curl/8.7.1","accept":"*/*"},"remoteAddress":"127.0.0.1","remotePort":56639},"res":{"statusCode":404,"headers":{"cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","origin-agent-cluster":"?1","referrer-policy":"no-referrer","strict-transport-security":"max-age=15552000; includeSubDomains","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","access-control-expose-headers":"Content-Length,Content-Type","content-type":"application/json; charset=utf-8","content-length":"89","etag":"W/\"59-CON5kpRHFREV/ugM26gSclq5Gt0\""}},"responseTime":1,"msg":"request completed"}
[2025-08-24T06:14:12.690Z] Checking if port 4000 is free...
[2025-08-24T06:14:12.693Z] Port 4000 is free
[2025-08-24T06:14:12.693Z] Starting server (attempt 1/10)...
--- SERVER RESTARTED ---
--- Code version: 2.2 ---
[ENV] Detected PORT from environment; skipping .env override for PORT
=== API CONFIGURATION ===
DeepSeek-only mode: DISABLED
Strict mode (effective): DISABLED
Available AI Providers: [ 'deepseek', 'fallback' ]
Default AI_PROVIDER: deepseek
Total providers available: 2
- deepseek: ENABLED (deepseek-v3)
- fallback: ENABLED (rule-based)
========================
Server running on port 4000
Local IP: 192.168.0.100
Server URL: http://192.168.0.100:4000
Test API with: curl http://192.168.0.100:4000/api/test
{"level":30,"time":1756016078701,"pid":86355,"hostname":"MacBook-Air-126.local","req":{"id":1,"method":"GET","url":"/ping","query":{},"params":{},"headers":{"host":"localhost:4000","user-agent":"curl/8.7.1","accept":"*/*"},"remoteAddress":"127.0.0.1","remotePort":58826},"res":{"statusCode":200,"headers":{"cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","origin-agent-cluster":"?1","referrer-policy":"no-referrer","strict-transport-security":"max-age=15552000; includeSubDomains","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","access-control-expose-headers":"Content-Length,Content-Type","access-control-allow-methods":"GET","access-control-allow-headers":"Content-Type","content-type":"text/html; charset=utf-8","content-length":"4","etag":"W/\"4-DlFKBmK8tp3IY5U9HOJuPUDoGoc\""}},"responseTime":3,"msg":"request completed"}
[2025-08-24T06:14:48.144Z] Received recipe generation request
[2025-08-24T06:14:48.144Z] Generating recipe for lunch with 3 ingredients
[2025-08-24T06:14:48.144Z] Strict mode: enabled
[2025-08-24T06:14:48.144Z] Using high-quality recipe generator in strict mode
{"level":30,"time":1756016088145,"pid":86355,"hostname":"MacBook-Air-126.local","req":{"id":2,"method":"POST","url":"/api/generate-recipe","query":{},"params":{},"headers":{"host":"localhost:4000","user-agent":"curl/8.7.1","accept":"*/*","content-type":"application/json","content-length":"138"},"remoteAddress":"127.0.0.1","remotePort":58828},"res":{"statusCode":200,"headers":{"cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","origin-agent-cluster":"?1","referrer-policy":"no-referrer","strict-transport-security":"max-age=15552000; includeSubDomains","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","access-control-expose-headers":"Content-Length,Content-Type","content-type":"application/json; charset=utf-8","content-length":"2441","etag":"W/\"989-rUHvmwDdeFkBPpk7e8mELYPIzR8\""}},"responseTime":6,"msg":"request completed"}
